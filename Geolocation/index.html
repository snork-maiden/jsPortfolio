<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" href="/jsPortfolio/img/location.svg" />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="desktop-warning warning">
      Try to view this page on mobile device
    </div>
    <div class="no-geolocation-warning warning">
      Allow access to GPS to proceed
    </div>

    <svg
      xmlns="http://www.w3.org/2000/svg"
      xml:space="preserve"
      class="arrow"
      viewBox="0 0 64 64"
    >
      <path
        fill="#fff"
        d="M32 1.8a30.2 30.2 0 1 0 0 60.4 30.2 30.2 0 0 0 0-60.4zM29.7 4h1.1l2.4 3.8V4h1v5.7h-1.1L30.8 6v3.7h-1V4zM9.3 34H8.1L7 29.6l-1.2 4.2H4.6l-1.4-5.7h1.2l.9 4 1-4h1.4l1 4 .8-4h1.2L9.3 34zM34 59.7c-.2.3-.4.5-.8.7l-1.2.2c-.7 0-1.3-.2-1.7-.5-.4-.4-.6-.8-.7-1.5h1.2c0 .3.2.6.4.7.2.2.4.3.8.3s.6 0 .8-.2l.3-.6-.1-.3a1 1 0 0 0-.4-.3l-1-.2-1.2-.6a1.5 1.5 0 0 1-.3-2c.1-.2.4-.4.7-.5.3-.2.7-.2 1.1-.2.7 0 1.3.1 1.6.4.4.4.6.8.6 1.3H33c-.1-.2-.2-.5-.4-.6l-.7-.2-.8.2-.2.4c0 .1 0 .2.2.3.2.2.5.3 1 .4l1.3.4.6.6c.2.2.3.6.3 1l-.3.8zm-2-7a20.8 20.8 0 1 1 0-41.6 20.8 20.8 0 0 1 0 41.6zm23-18.9v-5.7h4.2v1h-3v1.2H59v1h-2.8V33h3.1v1H55z"
      />
      <path
        d="m48.9 31.9-12.2-4.1a.7.7 0 0 1-.5-.5l-4-12.2-.2-.3-.1.3-4 12.2c-.2.3-.3.4-.6.5l-12.2 4-.3.2.4.1 12.2 4c.2.2.3.2.4.5l3.7 11.2.5 1.4.1-.4 4-12.1c.2-.3.3-.4.6-.5l12.2-4 .3-.2-.3-.1zm-11.4.1-4 1.4-.1.1-1.4 4-.1-.4-1.3-3.6-.1-.1-4-1.4 4-1.4.1-.1 1.4-4 1.4 4 .1.1 4 1.4z"
      />
      <path
        d="m24.4 27.6-3.2-6.4 6.5 3.2-1.1 2.1-.1.1-2 1zm15.2 0-2-1-.2-.1-1-2 6.4-3.3-3.2 6.4zm-15.2 8.7 2.1 1 .1.2 1 2-6.4 3.3 3.2-6.5zm12 3.3 1-2.1.1-.1 2-1 3.3 6.4-6.4-3.2z"
      />
    </svg>

    <h1 class="speed">
      <span class="speed-value">0</span>
      <span class="units">KM/H</span>
    </h1>

    <script>
      const arrow = document.querySelector(".arrow");
      const speed = document.querySelector(".speed-value");

      navigator.geolocation.watchPosition(
        (data) => {
          warning.classList.remove('no-geolocation-warning--active')
          speed.textContent = Math.round(+data.coords.speed * 100) / 100;
          arrow.style.transform = `rotate(${data.coords.heading}deg)`;
        },
        (err) => {
          const warning = document.querySelector('no-geolocation-warning');
          warning.classList.add('no-geolocation-warning--active')
        }
      );
    </script>
  </body>
</html>
